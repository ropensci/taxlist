<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Handling Taxonomic Lists • taxlist</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Handling Taxonomic Lists">
<meta property="og:description" content="Handling taxonomic lists through objects of class taxlist.
    This package provides functions to import species lists from Turboveg
    (&lt;https://www.synbiosys.alterra.nl/turboveg/&gt;) and the possibility to create
    backups from resulting R-objects.
    Also quick displays are implemented as summary-methods.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">taxlist</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.3.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/taxlist-intro.html">Applying taxlist to species lists on diversity records</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/taxlist/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD # taxlist <img src="reference/figures/taxlist_logo.png" height="138" align="right"> ======= # taxlist <img src="https://docs.ropensci.org/taxlist/reference/figures/taxlist_logo.png" height="140" align="right"> &gt;&gt;&gt;&gt;&gt;&gt;&gt; branch ‘master’ of <a href="https://github.com/ropensci/taxlist.git" class="external-link uri">https://github.com/ropensci/taxlist.git</a></p>
<!-- badges: start -->
<!-- [![DOI](https://zenodo.org/badge/54913161.svg)](https://zenodo.org/badge/latestdoi/54913161) --><!-- badges: end --><div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p><code>taxlist</code> is a package designed to handle and assess taxonomic lists in <strong>R</strong>, providing an object class and functions in <code>S4</code> language. The homonymous object class <code>taxlist</code> was originally designed as a module for taxa recorded in vegetation-plot observations (see <a href="https://github.com/ropensci/vegtable" class="external-link"><code>vegtable</code></a>), but became as an independent object with the ability of contain not only lists of species but also synonymy, hierarchical taxonomy, and functional traits (attributes of taxa).</p>
<p>The main aim of this package is to keep consistence in taxonomic lists (a set of rules are checked by the function <code>validObject()</code>), to enable the re-arrangement of such data, and to statistically assess functional traits and other attributes, for instance taxonomy itself (function <code><a href="reference/tax2traits.html">tax2traits()</a></code> set taxonomic information as trait).</p>
<p>While this package only includes a function for the import of taxonomic lists from <a href="https://www.synbiosys.alterra.nl/turboveg/" class="external-link">Turboveg</a>, almost any data source can be structured as <code>taxlist</code> object, so far the information is imported into data frames in an R session and the consistency rules are respected (validity).</p>
<p>The use of <code>taxlist</code> is recommended for people cleaning raw data before importing it to relational databases, either in the context of taxonomic work or biodiversity assessments. The other way around, people having relational databases or clean and structured taxonomic lists may use <code>taxlist</code> as recipient of this information in R sessions in order to carry out further statistical assessments. Finally, the function <code><a href="reference/print_name.html">print_name()</a></code> makes <code>taxlist</code> suitable for its implementation in interactive documents using <code>rmarkdonw</code> and <code>knitr</code> (e.g. reports, manuscripts and check-lists).</p>
<p>The structure of <code>taxlist</code> objects is inspired on the structure of data handled by <a href="https://www.synbiosys.alterra.nl/turboveg/" class="external-link">Turboveg</a> and relational databases.</p>
<p><img src="reference/figures/taxlist_model.png"><br><strong>Figure:</strong> Relational model for <code>taxlist</code> objects (see <a href="https://doi.org/10.3897/BDJ.6.e23635" class="external-link">Alvarez &amp; Luebert 2018</a>).</p>
</div>
<div class="section level2">
<h2 id="installing-taxlist">Installing taxlist<a class="anchor" aria-label="anchor" href="#installing-taxlist"></a>
</h2>
<p>This package is available from the Comprehensive R Archive Network (<strong>CRAN</strong>) and can be directly installed within an R-session:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"taxlist"</span>, dependencies<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Alternatively, the current development version is available from <a href="https://github.com/ropensci/taxlist" class="external-link">GitHub</a> and can be installed using the package <code>devtools</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ropensci/taxlist"</span>, build_vignette<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>A vignette is installed with this package introducing to the work with <code>taxlist</code> and can be accessed by following command in your R-session:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"taxlist-intro"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="building-taxlist-objects">Building taxlist Objects<a class="anchor" aria-label="anchor" href="#building-taxlist-objects"></a>
</h2>
<p>Objects can be built step-by-step as in the following example. For it, we will use as reference the “Ferns of Chile” (original in Spanish: “Helechos de Chile”) by <strong>Gunkel (1984)</strong>. We will create an empty <code>taxlist</code> object using the function <code>new()</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://cran.r-project.org/package=taxlist" class="external-link">taxlist</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'taxlist'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     levels, print</span></span>
<span></span>
<span><span class="va">Fern</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="st">"taxlist"</span><span class="op">)</span></span>
<span><span class="va">Fern</span></span>
<span><span class="co">#&gt; object size: 5.1 Kb </span></span>
<span><span class="co">#&gt; validation of 'taxlist' object: TRUE </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; number of taxon usage names: 0 </span></span>
<span><span class="co">#&gt; number of taxon concepts: 0 </span></span>
<span><span class="co">#&gt; trait entries: 0 </span></span>
<span><span class="co">#&gt; number of trait variables: 0 </span></span>
<span><span class="co">#&gt; taxon views: 0</span></span></code></pre></div>
<p>Then we have to set the respective taxonomic ranks. In such case, the levels have to be provided from the lowest to highest hierarchical level:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/levels.html">levels</a></span><span class="op">(</span><span class="va">Fern</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variety"</span>,<span class="st">"species"</span>,<span class="st">"genus"</span><span class="op">)</span></span></code></pre></div>
<p>For convenience, we start inserting taxa with their respective names in a top-down direction. We will use the function <code><a href="reference/taxon_relations.html">add_concept()</a></code> to add a new taxon. Note that the arguments <code>TaxonName</code>, <code>AuthorName</code>, and <code>Level</code> are used to provide the name of the taxon, the authority of the name and the taxonomic rank, respectively.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fern</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/taxon_relations.html">add_concept</a></span><span class="op">(</span><span class="va">Fern</span>, TaxonName<span class="op">=</span><span class="st">"Asplenium"</span>, AuthorName<span class="op">=</span><span class="st">"L."</span>, Level<span class="op">=</span><span class="st">"genus"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/summary.html">summary</a></span><span class="op">(</span><span class="va">Fern</span>, <span class="st">"all"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ------------------------------ </span></span>
<span><span class="co">#&gt; concept ID: 1 </span></span>
<span><span class="co">#&gt; view ID: none </span></span>
<span><span class="co">#&gt; level: genus </span></span>
<span><span class="co">#&gt; parent: none </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # accepted name: </span></span>
<span><span class="co">#&gt; 1 Asplenium L. </span></span>
<span><span class="co">#&gt; ------------------------------</span></span></code></pre></div>
<p>As you see, the inserted genus got the concept ID <strong>1</strong> (see <code>TaxonConceptID</code> in the previous figure). To insert a species of this genus, we use again the function <code><a href="reference/taxon_relations.html">add_concept()</a></code>, but this time we will also provide the ID of the parent taxon with the argument <code>Parent</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fern</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/taxon_relations.html">add_concept</a></span><span class="op">(</span><span class="va">Fern</span>, TaxonName<span class="op">=</span><span class="st">"Asplenium obliquum"</span>, AuthorName<span class="op">=</span><span class="st">"Forster"</span>,</span>
<span>    Level<span class="op">=</span><span class="st">"species"</span>, Parent<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/summary.html">summary</a></span><span class="op">(</span><span class="va">Fern</span>, <span class="st">"Asplenium obliquum"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ------------------------------ </span></span>
<span><span class="co">#&gt; concept ID: 2 </span></span>
<span><span class="co">#&gt; view ID: none </span></span>
<span><span class="co">#&gt; level: species </span></span>
<span><span class="co">#&gt; parent: 1 Asplenium L. </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # accepted name: </span></span>
<span><span class="co">#&gt; 2 Asplenium obliquum Forster </span></span>
<span><span class="co">#&gt; ------------------------------</span></span></code></pre></div>
<p>In the same way, we can add now two varieties of the inserted species:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fern</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/taxon_relations.html">add_concept</a></span><span class="op">(</span><span class="va">Fern</span>,</span>
<span>    TaxonName<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Asplenium obliquum var. sphenoides"</span>,</span>
<span>        <span class="st">"Asplenium obliquum var. chondrophyllum"</span><span class="op">)</span>,</span>
<span>    AuthorName<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"(Kunze) Espinosa"</span>,</span>
<span>        <span class="st">"(Bertero apud Colla) C. Christense &amp; C. Skottsberg"</span><span class="op">)</span>,</span>
<span>    Level<span class="op">=</span><span class="st">"variety"</span>, Parent<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>You may have realized that the function <code><a href="reference/summary.html">summary()</a></code> is applied to provide on the one side a display of meta-information for the whole <code>taxlist</code> object, and on the other side to show a detail of the taxa included in the object. In the later case adding the keyword <code>"all"</code> as second argument, the summary will show a detailed information for every taxon included in the object.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fern</span></span>
<span><span class="co">#&gt; object size: 6.2 Kb </span></span>
<span><span class="co">#&gt; validation of 'taxlist' object: TRUE </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; number of taxon usage names: 4 </span></span>
<span><span class="co">#&gt; number of taxon concepts: 4 </span></span>
<span><span class="co">#&gt; trait entries: 0 </span></span>
<span><span class="co">#&gt; number of trait variables: 0 </span></span>
<span><span class="co">#&gt; taxon views: 0 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; concepts with parents: 3 </span></span>
<span><span class="co">#&gt; concepts with children: 2 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; hierarchical levels: variety &lt; species &lt; genus </span></span>
<span><span class="co">#&gt; number of concepts in level variety: 2</span></span>
<span><span class="co">#&gt; number of concepts in level species: 1</span></span>
<span><span class="co">#&gt; number of concepts in level genus: 1</span></span>
<span></span>
<span><span class="fu"><a href="reference/summary.html">summary</a></span><span class="op">(</span><span class="va">Fern</span>, <span class="st">"all"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ------------------------------ </span></span>
<span><span class="co">#&gt; concept ID: 1 </span></span>
<span><span class="co">#&gt; view ID: none </span></span>
<span><span class="co">#&gt; level: genus </span></span>
<span><span class="co">#&gt; parent: none </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # accepted name: </span></span>
<span><span class="co">#&gt; 1 Asplenium L. </span></span>
<span><span class="co">#&gt; ------------------------------ </span></span>
<span><span class="co">#&gt; concept ID: 2 </span></span>
<span><span class="co">#&gt; view ID: none </span></span>
<span><span class="co">#&gt; level: species </span></span>
<span><span class="co">#&gt; parent: 1 Asplenium L. </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # accepted name: </span></span>
<span><span class="co">#&gt; 2 Asplenium obliquum Forster </span></span>
<span><span class="co">#&gt; ------------------------------ </span></span>
<span><span class="co">#&gt; concept ID: 3 </span></span>
<span><span class="co">#&gt; view ID: none </span></span>
<span><span class="co">#&gt; level: variety </span></span>
<span><span class="co">#&gt; parent: 2 Asplenium obliquum Forster </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # accepted name: </span></span>
<span><span class="co">#&gt; 3 Asplenium obliquum var. sphenoides (Kunze) Espinosa </span></span>
<span><span class="co">#&gt; ------------------------------ </span></span>
<span><span class="co">#&gt; concept ID: 4 </span></span>
<span><span class="co">#&gt; view ID: none </span></span>
<span><span class="co">#&gt; level: variety </span></span>
<span><span class="co">#&gt; parent: 2 Asplenium obliquum Forster </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; # accepted name: </span></span>
<span><span class="co">#&gt; 4 Asplenium obliquum var. chondrophyllum (Bertero apud Colla) C. Christense &amp; C. Skottsberg </span></span>
<span><span class="co">#&gt; ------------------------------</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="indented-lists">Indented lists<a class="anchor" aria-label="anchor" href="#indented-lists"></a>
</h2>
<p>A feature implemented in version 0.2.1 is the function <code><a href="reference/indented_list.html">indented_list()</a></code>, which provides a better display on the hierarchical strucutre of <code>taxlist</code> objects.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/indented_list.html">indented_list</a></span><span class="op">(</span><span class="va">Fern</span><span class="op">)</span></span>
<span><span class="co">#&gt; Asplenium L.</span></span>
<span><span class="co">#&gt;  Asplenium obliquum Forster</span></span>
<span><span class="co">#&gt;   Asplenium obliquum var. sphenoides (Kunze) Espinosa</span></span>
<span><span class="co">#&gt;   Asplenium obliquum var. chondrophyllum (Bertero apud Colla) C. Christense &amp; C. Skottsberg</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="from-data-frame-to-taxlist">From data frame to taxlist<a class="anchor" aria-label="anchor" href="#from-data-frame-to-taxlist"></a>
</h2>
<p>A more convenient way is to create an object from a data frame including both, the taxon concepts with their accepted names and the taxonomic ranks with parent-child relationships. In the case of the last example, the required data frame looks like this one:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fern_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>        TaxonConceptID<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>,</span>
<span>        TaxonUsageID<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>,</span>
<span>        TaxonName<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Asplenium"</span>, <span class="st">"Asplenium obliquum"</span>,</span>
<span>                <span class="st">"Asplenium obliquum var. sphenoides"</span>,</span>
<span>                <span class="st">"Asplenium obliquum var. chondrophyllum"</span><span class="op">)</span>,</span>
<span>        AuthorName<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"L."</span>, <span class="st">"Forster"</span>, <span class="st">"(Kunze) Espinosa"</span>,</span>
<span>                <span class="st">"(Bertero apud Colla) C. Christense &amp; C. Skottsberg"</span><span class="op">)</span>,</span>
<span>        Level<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"genus"</span>, <span class="st">"species"</span>, <span class="st">"variety"</span>, <span class="st">"variety"</span><span class="op">)</span>,</span>
<span>        Parent<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>        stringsAsFactors<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">Fern_df</span></span>
<span><span class="co">#&gt;   TaxonConceptID TaxonUsageID                              TaxonName</span></span>
<span><span class="co">#&gt; 1              1            1                              Asplenium</span></span>
<span><span class="co">#&gt; 2              2            2                     Asplenium obliquum</span></span>
<span><span class="co">#&gt; 3              3            3     Asplenium obliquum var. sphenoides</span></span>
<span><span class="co">#&gt; 4              4            4 Asplenium obliquum var. chondrophyllum</span></span>
<span><span class="co">#&gt;                                           AuthorName   Level Parent</span></span>
<span><span class="co">#&gt; 1                                                 L.   genus     NA</span></span>
<span><span class="co">#&gt; 2                                            Forster species      1</span></span>
<span><span class="co">#&gt; 3                                   (Kunze) Espinosa variety      2</span></span>
<span><span class="co">#&gt; 4 (Bertero apud Colla) C. Christense &amp; C. Skottsberg variety      2</span></span></code></pre></div>
<p>This kind of tables can be written in a spreadsheet application and imported to your R session. The two first columns correspond to the IDs of the taxon concept and the respective accepted name. They can be custom IDs but are restricted to integers in <code>taxlist</code>. For the use of the function <code><a href="reference/df2taxlist.html">df2taxlist()</a></code>, the two first columns are mandatory. Also note that the column <strong>Parent</strong> is pointing to the concept IDs of the respective parent taxon. To get the object, we just use the <code><a href="reference/df2taxlist.html">df2taxlist()</a></code> indicating the sequence of taxonomic ranks in the argument <code>levels</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Fern2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/df2taxlist.html">df2taxlist</a></span><span class="op">(</span><span class="va">Fern_df</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"variety"</span>, <span class="st">"species"</span>, <span class="st">"genus"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; No values for 'AcceptedName' in 'x'. all names will be considered as accepted names.</span></span>
<span><span class="va">Fern2</span></span>
<span><span class="co">#&gt; object size: 6.1 Kb </span></span>
<span><span class="co">#&gt; validation of 'taxlist' object: TRUE </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; number of taxon usage names: 4 </span></span>
<span><span class="co">#&gt; number of taxon concepts: 4 </span></span>
<span><span class="co">#&gt; trait entries: 0 </span></span>
<span><span class="co">#&gt; number of trait variables: 0 </span></span>
<span><span class="co">#&gt; taxon views: 0 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; concepts with parents: 3 </span></span>
<span><span class="co">#&gt; concepts with children: 2 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; hierarchical levels: variety &lt; species &lt; genus </span></span>
<span><span class="co">#&gt; number of concepts in level variety: 2</span></span>
<span><span class="co">#&gt; number of concepts in level species: 1</span></span>
<span><span class="co">#&gt; number of concepts in level genus: 1</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="similar-packages">Similar Packages<a class="anchor" aria-label="anchor" href="#similar-packages"></a>
</h2>
<p>The package <code>taxlist</code> shares similar objectives with the package <a href="https://github.com/ropensci/taxa" class="external-link"><code>taxa</code></a>, but uses different approaches for object oriented programming in <strong>R</strong>, namely <code>taxlist</code> applies <strong>S4</strong> while <code>taxa</code> uses <strong>R6</strong>. Additionally, <code>taxa</code> is rather developer-oriented, while <code>taxlist</code> is rather a user-oriented package.</p>
<p>In following cases you may prefer to use <code>taxlist</code>:</p>
<ul>
<li>When you need an automatic check on the consistency of information regarding taxonomic ranks and parent-child relationships (parents have to be of a higher rank then children), as well as non-duplicated combinations of names and authors. Such checks are done by the function <code>validObject()</code>.</li>
<li>When you foresee statistical assessments on taxonomy diversity or taxon properties (chorology, conservation status, functional traits, etc.).</li>
<li>When you seek to produce documents using <strong>rmarkdown</strong>, for instance guide books or check-lists. Also in article manuscripts taxonomic names referring to a taxon concept can easily get formatted by the function <code><a href="reference/print_name.html">print_name()</a></code>.</li>
<li>When importing taxonomic lists from databases stored in <a href="http://www.synbiosys.alterra.nl/turboveg/" class="external-link"><strong>Turboveg 2</strong></a>.</li>
<li>When you seek to implement the package <a href="https://CRAN.R-project.org/package=vegtable" class="external-link"><code>vegtable</code></a> for handling and assessing biodiversity records, especially vegetation-plot data. In that case, taxonomic lists will be formatted by <code>taxlist</code> as a slot within a <code>vegtable</code> object.</li>
</ul>
</div>
<div class="section level2">
<h2 id="rmarkdown-integration">Rmarkdown Integration<a class="anchor" aria-label="anchor" href="#rmarkdown-integration"></a>
</h2>
<p>As mentioned before, <code>taxlist</code> objects can be also used for writing rmarkdown documents (see <a href="https://dx.doi.org/10.13140/RG.2.2.36713.90728" class="external-link">this poster</a>). For instance you can insert your objects at the beginning of the document with a hidden chunk:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb13-1"><a href="#cb13-1"></a><span class="bn">```{r  echo=FALSE, message=FALSE, warning=FALSE}</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="bn">library(taxlist)</span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="bn">data(Easplist)</span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="bn">```</span></span></code></pre></div>
<p>To mention a taxon, you can write in-line codes, such as <code>`r print_name(Easplist, 206)`</code>, which will insert <em>Cyperus papyrus</em> L. in your document (note that the number is the ID of the taxon concept in <code>Easplist</code>). Fort a second mention of the same species, you can then use <code>`r print_name(Easplist, 206, second_mention=TRUE)`</code>, which will insert <em>C. papyrus</em> L. in your text.</p>
</div>
<div class="section level2">
<h2 id="descriptive-statistics">Descriptive Statistics<a class="anchor" aria-label="anchor" href="#descriptive-statistics"></a>
</h2>
<p>Information located in the slot <strong>taxonTraits</strong> are suitable for statistical assessments. For instance, in the installed object <code>Easplist</code> a column called <strong>lf_behn_2018</strong> includes a classification of macrophytes into different life forms. To know the frequency of these life forms in the <code>Easplist</code>, we can use the function <code><a href="reference/count_taxa.html">count_taxa()</a></code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># how man taxa in 'Easplist'</span></span>
<span><span class="fu"><a href="reference/count_taxa.html">count_taxa</a></span><span class="op">(</span><span class="va">Easplist</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 3887</span></span>
<span></span>
<span><span class="co"># frequency of life forms</span></span>
<span><span class="fu"><a href="reference/count_taxa.html">count_taxa</a></span><span class="op">(</span><span class="op">~</span> <span class="va">life_form</span>, <span class="va">Easplist</span><span class="op">)</span></span>
<span><span class="co">#&gt;             life_form taxa_count</span></span>
<span><span class="co">#&gt; 1    acropleustophyte          8</span></span>
<span><span class="co">#&gt; 2         chamaephyte         25</span></span>
<span><span class="co">#&gt; 3      climbing_plant         25</span></span>
<span><span class="co">#&gt; 4  facultative_annual         20</span></span>
<span><span class="co">#&gt; 5     obligate_annual        114</span></span>
<span><span class="co">#&gt; 6        phanerophyte         26</span></span>
<span><span class="co">#&gt; 7    pleustohelophyte          8</span></span>
<span><span class="co">#&gt; 8          reed_plant         14</span></span>
<span><span class="co">#&gt; 9       reptant_plant         19</span></span>
<span><span class="co">#&gt; 10      tussock_plant         52</span></span></code></pre></div>
<p>Furthermore, taxonomic information can be also transferred to this slot using the function <code><a href="reference/tax2traits.html">tax2traits()</a></code>. By this way we will make taxonomic ranks suitable for frequency calculations.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Easplist</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/tax2traits.html">tax2traits</a></span><span class="op">(</span><span class="va">Easplist</span>, get_names<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">Easplist</span><span class="op">@</span><span class="va">taxonTraits</span><span class="op">)</span></span>
<span><span class="co">#&gt;   TaxonConceptID          life_form form variety subspecies</span></span>
<span><span class="co">#&gt; 1              7       phanerophyte &lt;NA&gt;    &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2              9       phanerophyte &lt;NA&gt;    &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3             18 facultative_annual &lt;NA&gt;    &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4             20 facultative_annual &lt;NA&gt;    &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5             21    obligate_annual &lt;NA&gt;    &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6             22        chamaephyte &lt;NA&gt;    &lt;NA&gt;       &lt;NA&gt;</span></span>
<span><span class="co">#&gt;                  species complex        genus        family</span></span>
<span><span class="co">#&gt; 1        Acacia mearnsii    &lt;NA&gt;       Acacia   Leguminosae</span></span>
<span><span class="co">#&gt; 2     Acacia polyacantha    &lt;NA&gt;       Acacia   Leguminosae</span></span>
<span><span class="co">#&gt; 3     Achyranthes aspera    &lt;NA&gt;  Achyranthes Amaranthaceae</span></span>
<span><span class="co">#&gt; 4     Acmella caulirhiza    &lt;NA&gt;      Acmella    Compositae</span></span>
<span><span class="co">#&gt; 5      Acmella uliginosa    &lt;NA&gt;      Acmella    Compositae</span></span>
<span><span class="co">#&gt; 6 Aeschynomene schimperi    &lt;NA&gt; Aeschynomene   Leguminosae</span></span></code></pre></div>
<p>Note that the respective parental ranks are inserted in the table <strong>taxonTraits</strong>, which contains the attributes of the taxa. In the two next command lines, we will produce a subset with only members of the family Cyperaceae and then calculate the frequency of species per genera.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Cype</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/subset.html">subset</a></span><span class="op">(</span><span class="va">Easplist</span>, <span class="va">family</span> <span class="op">==</span> <span class="st">"Cyperaceae"</span>, slot<span class="op">=</span><span class="st">"taxonTraits"</span><span class="op">)</span></span>
<span><span class="va">Cype_stat</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/count_taxa.html">count_taxa</a></span><span class="op">(</span><span class="va">species</span> <span class="op">~</span> <span class="va">genus</span>, <span class="va">Cype</span><span class="op">)</span></span></code></pre></div>
<p>Now, we can sort them to produce a nice bar plot.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Cype_stat</span> <span class="op">&lt;-</span> <span class="va">Cype_stat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">Cype_stat</span><span class="op">$</span><span class="va">species_count</span>, decreasing<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>, <span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>las<span class="op">=</span><span class="fl">2</span>, mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">5</span>,<span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">Cype_stat</span>, <span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html" class="external-link">barplot</a></span><span class="op">(</span><span class="va">species_count</span>, names.arg<span class="op">=</span><span class="va">genus</span>,</span>
<span>                ylab<span class="op">=</span><span class="st">"Number of Species"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/genera_bar-1.png"><!-- --></p>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>The author thanks <strong>Stephan Hennekens</strong>, developer of <a href="http://www.synbiosys.alterra.nl/turboveg/" class="external-link">Turboveg</a>, for his patience and great support finding a common language between <strong>R</strong> and <strong>Turboveg</strong>, as well as for his advices on formatting our taxonomic list <strong>EA-Splist</strong>.</p>
<p>Also thanks to <strong>Federico Luebert</strong> for the fruitful discussions regarding the terminology used in this project.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=taxlist" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/taxlist/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/taxlist/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 2)</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing taxlist</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Miguel Alvarez <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-1500-1834" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=taxlist" class="external-link"><img src="http://www.r-pkg.org/badges/version/taxlist" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://github.com/ropensci/software-review/issues/233" class="external-link"><img src="https://badges.ropensci.org/233_status.svg"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/54913161" class="external-link"><img src="https://zenodo.org/badge/54913161.svg" alt="DOI"></a></li>
<li><a href="https://github.com/ropensci/taxlist/actions" class="external-link"><img src="https://github.com/ropensci/taxlist/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/gh/ropensci/taxlist" class="external-link"><img src="https://codecov.io/gh/ropensci/taxlist/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://cran.r-project.org/package=taxlist" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/taxlist" alt="CRAN_downloads"></a></li>
<li><a href="https://cran.r-project.org/package=taxlist" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/taxlist" alt="total downloads"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Miguel Alvarez.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.9000.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
