<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Data manipulation. — replace_x • taxlist</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Data manipulation. — replace_x"><meta property="og:description" content="This is a series of functions designed for a fast coding of replacements
both, as internal functions and in workflows dealing with information stored
in vectors.
Such functions are especially useful when handling with functional traits
stored in taxlist objects.
replace_x() is used to exchange values in vectors.
replace_idx() changes values in vectors by matching indices or conditions.
The function replace_na() works in the same way as replace_idx() but will
only insert values in empty elements (NAs)."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">taxlist</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/taxlist-intro.html">Applying taxlist to species lists on diversity records</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ropensci/taxlist/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Data manipulation.</h1>
    <small class="dont-index">Source: <a href="https://github.com/ropensci/taxlist/blob/HEAD/R/replace_x.R" class="external-link"><code>R/replace_x.R</code></a></small>
    <div class="hidden name"><code>replace_x.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is a series of functions designed for a fast coding of replacements
both, as internal functions and in workflows dealing with information stored
in vectors.
Such functions are especially useful when handling with functional traits
stored in <a href="taxlist-class.html">taxlist</a> objects.</p>
<p><code>replace_x()</code> is used to exchange values in vectors.
<code>replace_idx()</code> changes values in vectors by matching indices or conditions.
The function <code>replace_na()</code> works in the same way as <code>replace_idx()</code> but will
only insert values in empty elements (NAs).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">replace_x</span><span class="op">(</span><span class="va">x</span>, <span class="va">old</span>, <span class="va">new</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">replace_idx</span><span class="op">(</span><span class="va">x</span>, idx1 <span class="op">=</span> <span class="va">x</span>, idx2 <span class="op">=</span> <span class="va">idx1</span>, <span class="va">new</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">replace_na</span><span class="op">(</span><span class="va">x</span>, <span class="va">idx1</span>, idx2 <span class="op">=</span> <span class="va">idx1</span>, <span class="va">new</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A vector to be modified. In the case of <code><a href="insert_rows.html">insert_rows()</a></code>, <code>x</code> is a
data frame.</p></dd>


<dt>old</dt>
<dd><p>A vector with values to be replaced by <code>replace_x()</code> in a vector.</p></dd>


<dt>new</dt>
<dd><p>A vector containing values to be inserted, either comparing values
or using indices.</p></dd>


<dt>idx1, idx2</dt>
<dd><p>Indices applied for value replacements to match <code>x</code> with
<code>new</code>, respectively. If <code>idx2</code> is not provided, it will be assumed as
equivalent to <code>idx1</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A vector or data frame with the modified values.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Miguel Alvarez.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Replace values in vector</span></span></span>
<span class="r-in"><span><span class="fu">replace_x</span><span class="op">(</span>x <span class="op">=</span> <span class="va">letters</span>, old <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="st">"p"</span>, <span class="st">"f"</span><span class="op">)</span>, new <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bee"</span>, <span class="st">"pork"</span>, <span class="st">"fungus"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "a"      "bee"    "c"      "d"      "e"      "fungus" "g"      "h"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9] "i"      "j"      "k"      "l"      "m"      "n"      "o"      "pork"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17] "q"      "r"      "s"      "t"      "u"      "v"      "w"      "x"     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] "y"      "z"     </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Replace values using indices</span></span></span>
<span class="r-in"><span><span class="fu">replace_idx</span><span class="op">(</span>x <span class="op">=</span> <span class="va">letters</span>, idx1 <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span>, idx2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">17</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  new <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"second"</span>, <span class="st">"seventh"</span>, <span class="st">"seventeenth"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "a"           "second"      "c"           "d"           "e"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "f"           "seventh"     "h"           "i"           "j"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "k"           "l"           "m"           "n"           "o"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] "p"           "seventeenth" "r"           "s"           "t"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21] "u"           "v"           "w"           "x"           "y"          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] "z"          </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Replace values if they are NAs</span></span></span>
<span class="r-in"><span><span class="va">letters</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="fu">replace_na</span><span class="op">(</span>x <span class="op">=</span> <span class="va">letters</span>, idx1 <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span>, idx2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  new <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"alpha"</span>, <span class="st">"beta"</span>, <span class="st">"zeta"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "a"    "beta" "c"    "d"    "e"    "f"    "g"    "h"    "i"    "j"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "k"    "l"    "m"    "n"    "o"    "p"    "q"    "r"    "s"    "t"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21] "u"    "v"    "w"    "x"    "y"    "z"   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The same applications but this time for functional traits</span></span></span>
<span class="r-in"><span><span class="fu"><a href="summary.html">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">Easplist</span><span class="op">$</span><span class="va">life_form</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   acropleustophyte        chamaephyte     climbing_plant facultative_annual </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  8                 25                 25                 20 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    obligate_annual       phanerophyte   pleustohelophyte         reed_plant </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                114                 26                  8                 14 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      reptant_plant      tussock_plant               NA's </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 19                 52               3576 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Merge annuals</span></span></span>
<span class="r-in"><span><span class="va">Easplist</span><span class="op">@</span><span class="va">taxonTraits</span><span class="op">$</span><span class="va">lifeform</span> <span class="op">&lt;-</span> <span class="fu">replace_x</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Easplist</span><span class="op">@</span><span class="va">taxonTraits</span><span class="op">$</span><span class="va">life_form</span>,</span></span>
<span class="r-in"><span>  old <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"obligate_annual"</span>, <span class="st">"facultative_annual"</span><span class="op">)</span>, new <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"annual"</span>, <span class="st">"annual"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="summary.html">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">Easplist</span><span class="op">$</span><span class="va">lifeform</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> acropleustophyte           annual      chamaephyte   climbing_plant </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                8              134               25               25 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     phanerophyte pleustohelophyte       reed_plant    reptant_plant </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               26                8               14               19 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    tussock_plant             NA's </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               52             3576 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The same effect</span></span></span>
<span class="r-in"><span><span class="va">Easplist</span><span class="op">@</span><span class="va">taxonTraits</span><span class="op">$</span><span class="va">lifeform</span> <span class="op">&lt;-</span> <span class="fu">replace_idx</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Easplist</span><span class="op">@</span><span class="va">taxonTraits</span><span class="op">$</span><span class="va">life_form</span>,</span></span>
<span class="r-in"><span>  idx1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"annual"</span>, <span class="va">Easplist</span><span class="op">@</span><span class="va">taxonTraits</span><span class="op">$</span><span class="va">life_form</span><span class="op">)</span>, idx2 <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  new <span class="op">=</span> <span class="st">"annual"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="summary.html">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">Easplist</span><span class="op">$</span><span class="va">lifeform</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> acropleustophyte           annual      chamaephyte   climbing_plant </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                8              134               25               25 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     phanerophyte pleustohelophyte       reed_plant    reptant_plant </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               26                8               14               19 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    tussock_plant             NA's </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               52             3576 </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Miguel Alvarez.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

